{
	"nix.enableLanguageServer": true,
	"nix.serverPath": "nixd",
	"nix.serverSettings": {
		"nixd": {
      "formatting": {
        "command": ["nixfmt"],
      },
			"nixpkgs": {
				"expr": "import (builtins.getFlake \"${workspaceFolder}/.\").inputs.nixpkgs { }"
			},
			"options": {
        "nixos": {
          "expr": "(builtins.getFlake \"${workspaceFolder}/.\").nixosConfigurations.default.options",
        },
			  "home-manager": {
          "expr": "(builtins.getFlake \"${workspaceFolder}/.\").nixosConfigurations.default.options.home-manager.users.type.getSubOptions []",
        },
      },
    },
	},
}
