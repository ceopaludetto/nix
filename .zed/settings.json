{
	"languages": {
		"Nix": {
			"language_servers": ["!nil", "nixd"]
		}
	},
	"lsp": {
		"nixd": {
			"binary": {
				"arguments": ["--semantic-tokens=true"]
			},
			"settings": {
				"formatting": {
					"command": ["nixfmt", "--quiet", "--"]
				},
				"nixpkgs": {
					"expr": "(builtins.getFlake (builtins.toString ./.)).nixosConfigurations.<name>.options"
				}
				// "options": {
				// 	"nixos": {
				// 		"expr": "let flake = builtins.getFlake(toString ../.); in flake.nixosConfigurations.default.options"
				// 	},
				// 	"darwin": {
				// 		"expr": "let flake = builtins.getFlake(toString ../.); in flake.darwinConfigurations.default.options"
				// 	},
				// 	"home_manager": {
				// 		"expr": "let flake = builtins.getFlake(toString ../.); in flake.nixosConfigurations.default.options.home-manager.users.type.getSubOptions []"
				// 	}
				// }
			}
		}
	}
}
